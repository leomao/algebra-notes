%! TEX root=../main.tex
\subsection{Local Rings}

From now on, $R$ is a commutative ring with $1$.

\begin{definition}
  $R$ is called a local ring if it has a unique maximal ideal.
\end{definition}

\begin{prop} \mbox{}
  \begin{enumerate}[(1)]
    \item $R$ is a local ring.
    \item The set of non-units forms an ideal.
    \item $\exists M \in \Max R$ s.t. $1 + m$ is a unit $\forall m \in M$.
  \end{enumerate}

  \begin{proof} \mbox{}
    \begin{description}
      \item[$(1)\Rightarrow(2)$:]
        Let $M$ be the unique maximal ideal of $R$.
        Then $R \setminus M = \Set{ \text{units in } R}$ since $M$ is unique
        $\leadsto M = \Set{ \text{non-units} }$.
      \item[$(2) \Rightarrow (3)$:]
        This ideal must be a maximal ideal $M$ since it can't be extended.
        Now, $1 \notin M \leadsto 1 + m \notin M$. So $1 + m$ is a unit.
      \item[$(3)\Rightarrow(1)$:]
        If there exists another maximal ideal $N$, then $M + N = R$.
        Say $m \in  M, n \in N$ s.t. $m + n = 1$, then $n = 1 - m$ is a unit
        $\implies N = R$, which is a contradiction.
    \end{description}
  \end{proof}
\end{prop}

\begin{example}
  $k[[x]]$ is a local ring with the unique maximal ideal $\gen{x}$.
\end{example}

\begin{prop}
  The following sets are correspondent ($k$ is algebraically closed):
  \begin{enumerate}[(1)]
    \item $\Ab_k^n$
    \item $\Max k[x_1, \dots, x_n]$
    \item $\Hom_k(k[x_1, \dots, x_n], k)$
  \end{enumerate}
  \begin{proof}
  \end{proof}
\end{prop}

\begin{remark}
  Inspired by the correspondence,
\end{remark}

\begin{example}
  Let $P \in \Spec R$. If $S = R \setminus P$, then $S$ is multiplicatively
  closed set with $1 \in S$ and $R_P \triangleq R_S$ is a local ring.
\end{example}

\begin{definition}
  A property of an $R$-module $M$ is said to be a local property if
  \[
    M \text{ has this property } \iff M_P
    \text{ (as an $R_P$-module) has this property } \forall P \in \Spec R
  \]
\end{definition}

\begin{prop}
  TFAE
  \begin{enumerate}[(1)]
    \item $M = 0$
    \item $M_P = 0 \quad \forall P \in \Spec R$
    \item $M_Q = 0 \quad \forall Q \in \Max R$
  \end{enumerate}
\end{prop}

\begin{coro}
  Let $N \subseteq M$, TFAE (consider $\quot{M}{N}$)
  \begin{enumerate}[(1)]
    \item $N = M$
    \item $N_P = M_P \quad \forall P \in \Spec R$
    \item $N_Q = M_Q \quad \forall Q \in \Max R$
  \end{enumerate}
\end{coro}

\begin{prop}
  TFAE
  \begin{enumerate}[(1)]
    \item $0 \to M \xrightarrow{\phi} N$ exact
    \item $0 \to M_P \xrightarrow{\phi_P} N_P$ exact $\forall P \in \Spec R$
    \item $0 \to M_Q \xrightarrow{\phi_Q} N_Q$ esact $\forall Q \in \Max R$
  \end{enumerate}
\end{prop}

\begin{definition} \mbox{}
  \begin{itemize}
    \item Let $R \subseteq S$. $\bar{R} = \Set{ x\in S \given x
      \text{ is integral over } R}$ is called the integral closure of $R$ in $S$.
    \item $R$ is integrally closed in $S$ if $R = \bar{R}$.
    \item An integral domain $R$ is called normal if $R$ is integrally closed
      in its field of fractions.
  \end{itemize}
\end{definition}

\begin{theorem}
  UFD is normal.
  \begin{proof}
    Let $R$ be a UFD and $K$ be its field of fractions.
    If $a \in K$ is integral over $R$ and $a^n + r_1a^{n-1} + \dots + r_n = 0$.
    Write $a = u/s$ with $\gcd(u, s) = 1$.
    Then $u^n + r_1 s u^{n-1} + \dots + r_n s^n = 0$.
    Now if $s$ is a non-unit, says $p \mid s$ with $p$ is a prime. Then
    $p \mid u$ obviously $\leadsto p \mid \gcd(u, s) = 1$, which is a contradiction.
    So $s$ is a unit $\implies a \in R$.
  \end{proof}
\end{theorem}

\begin{prop} \mbox{}
  \begin{itemize}
    \item Let $S/R$ is an integral extension and $T \subset R$ be a m.c. set
      with $1 \in T$.
      Then $S_T$ is also integral over $R_T$.
    \item Let $S/R$ be an arbitrary extension and $T \subset R$ be m.c.
      with $1 \in T$. Then $(\bar{R})_T = \ob{(R_T)}$ in $S_T$.
  \end{itemize}
  \begin{proof}
  \end{proof}
\end{prop}

\begin{prop}
  ``Being normal'' is a local property. TFAE
  \begin{enumerate}[(1)]
    \item $R$ is normal
    \item $R_P$ is normal $\forall P \in \Spec R$
    \item $R_Q$ is normal $\forall Q \in \Max R$
  \end{enumerate}
\end{prop}

\begin{prop}
  TFAE
  \begin{enumerate}[(1)]
    \item $M$ is a flat $R$-module
    \item $M_P$ is a flat $R$-module $\forall P \in \Spec R$
    \item $M_Q$ is a flat $R$-module $\forall Q \in \Max R$
  \end{enumerate}
\end{prop}
